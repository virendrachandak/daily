vim建议和技巧---1. 帮助```:help```以及```:help command```* TAB - 在可能的命令补全中循环* CTRL-d - 列出所有可能的命令补全例如，尝试：`:help tags (然后输入CTRL-d并且按TAB键)``:help i_ CTRL-d`可以查看插入命令，`v_`查看`visual`命令等等。在帮助页面，还可以通过`CTRL-]`跳到`|bars|`主题，通过`CTRL-T`跳回来。2.  变量查看、设置和充值`vim`中变量的方法列表：```:set          "显示和默认值不同的变量:set all      "显示all的值:set foo?     "显示foo的所有值:set foo+=opt:set foo-=opt:set foo&     "将foo重置为默认值:setlocal foo "只在当前buffer设置```3.  vim兼容性如果有`.vimrc`文件，vim会以非兼容模式启动。也可以使用下面的命令：`:set nocompatible`或者`vim -N`4.  模式行（`modelines`）使用模式行可以设置针对某个文件或某类文件的变量。默认vim会读取前五行和后五行的变量设置。例如，如果把下面的内容放到一个C程序的最后，在编辑文件时的文字宽度会变成60个字符：```/*  vim: tw=60 ts=2: */````modelines`变量用于设置vim初始化是检查的行数（在每个文件的开头或者结尾）。5.  词和行自动补全在插入模式下的自动补全快捷键为：```ctrl-n, ctrl-p  上一个/下一个补全词（当前文件中的相似词）``````ctrx-x ctrl-l (ctrl-n/p)  行补全``````:set dictionary=/usr/share/dict/words```词典补全```ctrl-x ctrl-k```以及（插入模式和命令模式都可以，和linux bash相同）删除词```ctrl-w```删除行```ctrl-u```6.  搜索基本搜索：```/pattern  向前搜索`pattern`?pattern  向后搜索n         重复向前搜索N         重复向后搜索```一些可能想要设置的变量：```:set ignorecase   忽略大小写:set smartcase    在用到大写首字母时使用大小写:set incsearch    在搜索时显示匹配:set hlsearch     搜索高亮```更多搜索技巧：```*                 搜索光标当前位置的词g*                搜索光标当前位置的部分词（使用n重复）ctrl-o, ctrl-i    在跳转位置间切换[I                显示含有当前光标位置匹配的词的所有行```搜索和替换```:%s/search_for_this/replace_with_this/ 全文搜索并替换:%s/search_for_this/replace_with_this/c 全文搜索并替换前确认```7.  文本选择如果希望对几行做同样的事情，例如剪切、复制、排序或者格式化，首先需要选择文本。跳出插入模式，按下面给出的选项，然后上下移动几行，就可以看到被选中的文本被高亮显示了出来。```V           选择整行v           选择部分文本ctrl-v      选择列gv          重新选择文本块```选完文本后，按`d`来删除，`y`来复制，`:s/match/replace`替换，或者`:center`和`!sort`命令进行操作。将选中的文本移动几个空格的方法：* 使用`V`和箭筒选择一块代码* 输入`:`* 输入`s/^/   /`* 回车> `^`表示行开头，即将行开头用空格来替换。8.  标记使用标记（`markers`）来设置希望快速跳转到的地方，或者指定希望复制和剪切的文本块。```mk      标记当前位置（可以使用a-z的字符）'k      移动到k所标记的位置d'k     从当前位置删除到k标记的位置'a-z    相同文件'A-Z    文件之间```9.  缩进```:set tabstop=8      tab的合适位置:set expandtab      不要使用实际的制表符，而使用空格符:set shiftwidth=4   缩进4个空格:set autoindent     自动缩进:set smartindent    在程序中只能缩进:set cindent        c程序的严厉缩进规则````smartindent`会根据关键词而有不同的缩进。缩进正行，或者一个可视化的文本块：```ctrl-t, ctrl-d    插入模式下增加当前行缩进或者减少当前行缩进```或者可视模式下，使用`>`和`<`（缩进`shiftwidth`个空格，用`.`可以重复）禁止在使用鼠标粘贴时的缩进，在`vimrc`加入下面的设置：```:set pastetoggle=<f5>```然后在插入模式下按F5，或者直接设置`:set paste`。11. 折叠使用折叠来展开和收起选中文本块。```zo    展开zc    收起```选项可以参考`:help foldmethod`，使用`:mkview`和`:loadview`来保存和恢复当前窗口的折叠。12. 多窗口相关命令：```:e filename:split filenamectr-w 向上箭头    移动到上面的窗口ctr-w ctrl-w      在多个窗口之间循环切换ctrl-w_           最大化当前窗口ctrl-w=           均分所有窗口10 ctrl-w+        将窗口大小增大10行:vsplit filename:sview file       和vsplit一样，只不过打开的文件是只读的:hide             关闭当前窗口:only             只保留当前窗口，关闭其他所有窗口:ls               显示当前buffer:b 2              在当前窗口打开buffer 2```13. 流式编辑可以将其他命令的输出输入到vim，在vim中进行格式化、编辑和保存，例如：```find . | vim -```> 示例命令会递归列出当前目录及其所有子目录中的所有文件并将结果在vim中打开。14. 标签使用标签可以在程序内部轻松跳转。首先从源文件运行`ctags`命令（例如：`ctags prog.c`或者`ctags -R`）来生成"tags"文件，然后再编辑源文件时使用这些标签。```:tag TAB                列出已知的标签:tag function_name      跳转到该函数ctrl-t                  跳转到上次调用`:tag`命令的位置ctrl-]                  在光标所在位置的词上调用`:tag`命令:ptag                   在预览窗口中打开标签（也可以使用`ctrl-w }`）:pclose                 关闭预览窗口```15. `makefiles`使用`makefiles`可以节省将大量源文件编译到程序的时间。vim可以不用退出编辑状态就执行makefile：```:map <f9> :make       映射F9键来执行make:set makeprg          修改`:make`的执行```有[`Makefile`](http://www.cs.swarthmore.edu/help/vim/Makefile.html)的话`:make`会编译使用该文件编译，可以使用下面的选项来检查编译错误：```:copen          在一个小窗口中查看错误列表，在某个错误上按下回车查看具体出错的行:cclose         关闭小窗口:cw             切换小窗口```17. 寄存器在复制和剪切内容时，这些内容会被保存到寄存器中，可以稍后再使用这些内容：```:reg        查看所有命名寄存器"5p         粘贴寄存器5中的内容```编辑寄存器的操作：```qk            将编辑操作记录到寄存器k，再次按下q来停止记录（即记录宏）@k            重新执行刚刚记录下来的k寄存器记录的操作（即播放宏）@@            执行上次播放的宏5@@           执行5次上次播放的宏"kp           打印宏k"kd           用光标所在位置的内容替换到寄存器k中的内容```18. 拼写检查使用插件`vimspell.vim`（在`www.vim.org`上搜索）。或者使用上面提到过的设置：```:set dictionary=/usr/share/dict/words```16. 映射使用映射相当于系统快捷键。例如：```imap ;so System.out.println();<left><left>```将`;so`映射到`System.out.println();`并且停留在插入模式，光标停留在括号中间。更多详情可以参考`:help mapping`19. 插件通过[`vundle`](https://github.com/gmarik/vundle)插件来安装。20. 彩蛋```:set rightleft       适合阿拉伯语这种从右往左的语言 :set norightleft     undo上面的效果:help uganda:help!:help 42:help quotes:help holy-grail```21. 其他```evim                  easy vim没有模式的vim，总是停留在插入模式（强烈不推荐~~~失去了使用vim的意义了）:set backup           自动备份成以`~`开头的文件:set mouse=a          允许使用鼠标改变光标的位置 :set laststatus=0     不显示状态栏:set showmatch        显示匹配的括号:set equalalways      保证所有打开的window大小相同```> 要使用`powerline`或者`airline`这样的插件美化vim的状态栏，需要设置：`:set laststatus=2`22. 多说一点关于拼写的内容在vimrc中加入下面的配置：```if has("spell")  " turn spelling on by default  set spell  " toggle spelling with F4 key  map <F4> :set spell!<CR><Bar>:echo "Spell Check: " . strpart("offOn", 3 * &spell, 3)<CR>  " they were using white on blcak  highlight PmenuSel ctermfg=black ctermbg=lightgray  " limit it to just the top 10 items  set sps=best,10endif```要创建一个私人词表，可以创建一个这样的目录`~/.vim/spell`。也可以手动在个人词表中加入内容，例如：```printf(nextLine(KISSYArrayList/=focussed/!```这样`printf`会被认为是拼写错误，但是`printf(`是对的。`/=`表示总是区分大小写，`/!`表示拼写错误。手动添加词到词表后，需要重新生成：```:mkspell! ~/.vim/spell/en.latin1.add```> 对应个人在`latin1`编码下的词典，如果是`utf-8`编码，那就是`~/.vim/spell/en.utf-8.add`一些用于拼写检查的有用的快捷键：```]s      向前跳转到拼写有问题的词（拼写错误、大小写不对）[s      向后跳转到拼写有问题的词（拼写错误、大小写不对）]S      只停在有拼写错误的地方[S      反方向zG      接受正在编辑的文本中所有的拼写检查zg      接受拼写并且加入个人词典zW      将正在编辑的文件中检查出的所有拼写问题视为拼写错误zw      将检查出的拼写问题视为拼写错误z=      显示拼写建议:sepllr 对当前窗口中执行上次的词替换```### 不太确定的内容（未亲身验证）10. 重新格式化用于对文本段落和代码片段进行重新格式化的有用操作（注意：在python代码上无法使用）：```V=      选择文本，然后使用`=`操作符重新格式化=       调整代码的对齐==      单行格式化gq      重新格式化段落```设置自动格式化的选项：```:set formatoptions (默认为"tcq")t       textwidthc       注释（加上`leader`，参考`:help comment`）q       使用`gq`n       有数字的列表2       保持第二行的缩进1       下一行上的单个字母词r       （在邮件中）在注释起始符号后```其他相关选项：```:set wrapmargin:set textwidth```### 参考资料<http://www.cs.swarthmore.edu/help/vim/vim7.html>