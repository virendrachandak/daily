<!doctype html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<style>
body {
  font-family: Helvetica, arial, sans-serif;
  font-size: 14px;
  line-height: 1.6;
  padding-top: 10px;
  padding-bottom: 10px;
  background-color: white;
  padding: 30px; }

body > *:first-child {
  margin-top: 0 !important; }
body > *:last-child {
  margin-bottom: 0 !important; }

a {
  color: #4183C4; }
a.absent {
  color: #cc0000; }
a.anchor {
  display: block;
  padding-left: 30px;
  margin-left: -30px;
  cursor: pointer;
  position: absolute;
  top: 0;
  left: 0;
  bottom: 0; }

h1, h2, h3, h4, h5, h6 {
  margin: 20px 0 10px;
  padding: 0;
  font-weight: bold;
  -webkit-font-smoothing: antialiased;
  cursor: text;
  position: relative; }

h1:hover a.anchor, h2:hover a.anchor, h3:hover a.anchor, h4:hover a.anchor, h5:hover a.anchor, h6:hover a.anchor {
  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA09pVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoMTMuMCAyMDEyMDMwNS5tLjQxNSAyMDEyLzAzLzA1OjIxOjAwOjAwKSAgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OUM2NjlDQjI4ODBGMTFFMTg1ODlEODNERDJBRjUwQTQiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OUM2NjlDQjM4ODBGMTFFMTg1ODlEODNERDJBRjUwQTQiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo5QzY2OUNCMDg4MEYxMUUxODU4OUQ4M0REMkFGNTBBNCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo5QzY2OUNCMTg4MEYxMUUxODU4OUQ4M0REMkFGNTBBNCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PsQhXeAAAABfSURBVHjaYvz//z8DJYCRUgMYQAbAMBQIAvEqkBQWXI6sHqwHiwG70TTBxGaiWwjCTGgOUgJiF1J8wMRAIUA34B4Q76HUBelAfJYSA0CuMIEaRP8wGIkGMA54bgQIMACAmkXJi0hKJQAAAABJRU5ErkJggg==) no-repeat 10px center;
  text-decoration: none; }

h1 tt, h1 code {
  font-size: inherit; }

h2 tt, h2 code {
  font-size: inherit; }

h3 tt, h3 code {
  font-size: inherit; }

h4 tt, h4 code {
  font-size: inherit; }

h5 tt, h5 code {
  font-size: inherit; }

h6 tt, h6 code {
  font-size: inherit; }

h1 {
  font-size: 28px;
  color: black; }

h2 {
  font-size: 24px;
  border-bottom: 1px solid #cccccc;
  color: black; }

h3 {
  font-size: 18px; }

h4 {
  font-size: 16px; }

h5 {
  font-size: 14px; }

h6 {
  color: #777777;
  font-size: 14px; }

p, blockquote, ul, ol, dl, li, table, pre {
  margin: 15px 0; }

hr {
  background: transparent url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAECAYAAACtBE5DAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OENDRjNBN0E2NTZBMTFFMEI3QjRBODM4NzJDMjlGNDgiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OENDRjNBN0I2NTZBMTFFMEI3QjRBODM4NzJDMjlGNDgiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo4Q0NGM0E3ODY1NkExMUUwQjdCNEE4Mzg3MkMyOUY0OCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo4Q0NGM0E3OTY1NkExMUUwQjdCNEE4Mzg3MkMyOUY0OCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PqqezsUAAAAfSURBVHjaYmRABcYwBiM2QSA4y4hNEKYDQxAEAAIMAHNGAzhkPOlYAAAAAElFTkSuQmCC) repeat-x 0 0;
  border: 0 none;
  color: #cccccc;
  height: 4px;
  padding: 0;
}

body > h2:first-child {
  margin-top: 0;
  padding-top: 0; }
body > h1:first-child {
  margin-top: 0;
  padding-top: 0; }
  body > h1:first-child + h2 {
    margin-top: 0;
    padding-top: 0; }
body > h3:first-child, body > h4:first-child, body > h5:first-child, body > h6:first-child {
  margin-top: 0;
  padding-top: 0; }

a:first-child h1, a:first-child h2, a:first-child h3, a:first-child h4, a:first-child h5, a:first-child h6 {
  margin-top: 0;
  padding-top: 0; }

h1 p, h2 p, h3 p, h4 p, h5 p, h6 p {
  margin-top: 0; }

li p.first {
  display: inline-block; }
li {
  margin: 0; }
ul, ol {
  padding-left: 30px; }

ul :first-child, ol :first-child {
  margin-top: 0; }

dl {
  padding: 0; }
  dl dt {
    font-size: 14px;
    font-weight: bold;
    font-style: italic;
    padding: 0;
    margin: 15px 0 5px; }
    dl dt:first-child {
      padding: 0; }
    dl dt > :first-child {
      margin-top: 0; }
    dl dt > :last-child {
      margin-bottom: 0; }
  dl dd {
    margin: 0 0 15px;
    padding: 0 15px; }
    dl dd > :first-child {
      margin-top: 0; }
    dl dd > :last-child {
      margin-bottom: 0; }

blockquote {
  border-left: 4px solid #dddddd;
  padding: 0 15px;
  color: #777777; }
  blockquote > :first-child {
    margin-top: 0; }
  blockquote > :last-child {
    margin-bottom: 0; }

table {
  padding: 0;border-collapse: collapse; }
  table tr {
    border-top: 1px solid #cccccc;
    background-color: white;
    margin: 0;
    padding: 0; }
    table tr:nth-child(2n) {
      background-color: #f8f8f8; }
    table tr th {
      font-weight: bold;
      border: 1px solid #cccccc;
      margin: 0;
      padding: 6px 13px; }
    table tr td {
      border: 1px solid #cccccc;
      margin: 0;
      padding: 6px 13px; }
    table tr th :first-child, table tr td :first-child {
      margin-top: 0; }
    table tr th :last-child, table tr td :last-child {
      margin-bottom: 0; }

img {
  max-width: 100%; }

span.frame {
  display: block;
  overflow: hidden; }
  span.frame > span {
    border: 1px solid #dddddd;
    display: block;
    float: left;
    overflow: hidden;
    margin: 13px 0 0;
    padding: 7px;
    width: auto; }
  span.frame span img {
    display: block;
    float: left; }
  span.frame span span {
    clear: both;
    color: #333333;
    display: block;
    padding: 5px 0 0; }
span.align-center {
  display: block;
  overflow: hidden;
  clear: both; }
  span.align-center > span {
    display: block;
    overflow: hidden;
    margin: 13px auto 0;
    text-align: center; }
  span.align-center span img {
    margin: 0 auto;
    text-align: center; }
span.align-right {
  display: block;
  overflow: hidden;
  clear: both; }
  span.align-right > span {
    display: block;
    overflow: hidden;
    margin: 13px 0 0;
    text-align: right; }
  span.align-right span img {
    margin: 0;
    text-align: right; }
span.float-left {
  display: block;
  margin-right: 13px;
  overflow: hidden;
  float: left; }
  span.float-left span {
    margin: 13px 0 0; }
span.float-right {
  display: block;
  margin-left: 13px;
  overflow: hidden;
  float: right; }
  span.float-right > span {
    display: block;
    overflow: hidden;
    margin: 13px auto 0;
    text-align: right; }

code, tt {
  margin: 0 2px;
  padding: 0 5px;
  white-space: nowrap;
  border: 1px solid #eaeaea;
  background-color: #f8f8f8;
  border-radius: 3px; }

pre code {
  margin: 0;
  padding: 0;
  white-space: pre;
  border: none;
  background: transparent; }

.highlight pre {
  background-color: #f8f8f8;
  border: 1px solid #cccccc;
  font-size: 13px;
  line-height: 19px;
  overflow: auto;
  padding: 6px 10px;
  border-radius: 3px; }

pre {
  background-color: #f8f8f8;
  border: 1px solid #cccccc;
  font-size: 13px;
  line-height: 19px;
  overflow: auto;
  padding: 6px 10px;
  border-radius: 3px; }
  pre code, pre tt {
    background-color: transparent;
    border: none; }

@media screen and (min-width: 914px) {
    body {
        width: 854px;
        margin:0 auto;
    }
}
@media print {
	table, pre {
		page-break-inside: avoid;
	}
	pre {
		word-wrap: break-word;
	}
}
</style>
<title>编码规范</title>

</head>
<body>
<h1>编码规范</h1>

<h2>通用约定</h2>

<h3>文件与目录命名约定</h3>

<ul>
<li><p>一律小写, 必须是英文单词或产品名称的拼音，多个单词用连字符(-)连接。只能出现英文字母、数字和连字符，严禁出现中文。</p></li>
<li><p>出现版本号时，需要用字母 v 做为前缀，小版本号用点号(.)隔开，比如 global-v8.js 或 detail-v2.2.js。</p></li>
<li><p>该命名规范适用于 html，css，js，swf，php，xml，png，gif，jpg，ico 等前端维护的所有文件类型和相关目录。</p></li>
<li><p>js 和 css 压缩文件，统一以 -min 结尾，比如源码文件为 seed.js，压缩后为 seed-min.js。</p></li>
</ul>


<h3>编码约定</h3>

<ul>
<li><p>淘宝统一使用 GBK 环境，但开发时编辑器推荐使用 UTF-8，上线时开发同学会帮我们把 HTML 编码码转换成 GBK，js 脚本上线时需要压缩并且 ascii 化。</p></li>
<li><p>使用 UTF-8 编码时如果使用未压缩代码，注意需要指定资源 charset="utf-8"</p></li>
</ul>


<h3>id 和 class 命名约定</h3>

<ul>
<li><p>id 和 class 的命名总规则为： 内容优先,表现为辅。首先根据内容来命名，比如 main-nav。如果根据内容找不到合适的命名，可以再结合表现来定，比如 skin-blue，present-tab，col-main。
id 和 class 名称一律小写，多个单词用连字符连接，比如 recommend-presents。</p></li>
<li><p>id 和 class 名称中只能出现小写的 26 个英文字母、数字和连字符(-)，任何其它字符都严禁出现。</p></li>
<li><p>id 和 class 尽量用英文单词命名。确实找不到合适的单词时，可以考虑使用产品的中文拼音，比如 wangwang，dating。对于中国以及淘宝特色词汇，也可以使用拼音，比如 xiaobao，daigou。除了产品名称和特色词汇，其它任何情况下都严禁使用拼音。</p></li>
<li><p>在不影响语义的情况下，id 和 class 名称中可以适当采用英文单词缩写，比如 col，nav，hd，bd，ft 等，但切忌自造缩写。</p></li>
<li><p>id 和 class 名称中的第一个词必须是单词全拼或语义非常清晰的单词缩写，比如 present，col。</p></li>
</ul>


<p>仅在 JavaScript 代码中当作 hook 用的 id 或 class，命名规则为 J_UpperCamelCase<code>(请注意，</code>J_ 后的首字母也大写！)，其中字母 J 代表 JavaScript，也是钩子(hook)的象形。如果在 JavaScript 和 CSS 中都需要用到，则不用遵守本约定。</p>

<ul>
<li>在自动化测试脚本中当作 hook 用的 class，命名规则为 T_UpperCamelCase，其中字母 T 代表 Test。</li>
</ul>


<h2>HTML 编码规范</h2>

<h3>基本规范</h3>

<ul>
<li><p>使用符合语义的标签书写 HTML 文档，选择恰当的元素表达所需的含义；</p></li>
<li><p>带有『点击』、『Hover』等操作的元素，建议一律使用 a 标签，或者必须加上 tabindex 属性；</p></li>
<li><p>元素的标签和属性名必须小写, 属性值必须加双引号; 如 <code>&lt;a href="/"&gt;Home&lt;/a&gt;</code>；</p></li>
<li><p>使用<strong>两个</strong>空格来表示缩进，不要使用 tab 键；</p></li>
<li><p>元素嵌套遵循 <a href="http://www.cs.tut.fi/~jkorpela/html/strict.html">(X)HTML Strict</a> 嵌套规则，正确区分自闭合元素和非自闭合元素；</p></li>
<li><p>通过给元素设置自定义属性来存放与 JavaScript 交互的数据, 属性名格式为 data-xx (例如：data-lazyload-url)，kissy 组件使用的格式为 data-ks-xxx ；</p></li>
<li><p>建议对超过10行的页面模块进行注释，以降低开发人员的嵌套成本和后期的维护成本。</p></li>
</ul>


<h4>统一 Doctype 和 编码</h4>

<p>所有 HTML 页面都使用以下开头，其中 charset 可自定，一般推荐 utf-8</p>

<pre><code>&lt;!doctype html&gt;
&lt;meta charset="utf-8" /&gt;
&lt;title&gt;...
</code></pre>

<h4>TODO</h4>

<ul>
<li><p>使用 TODO 来标记待做事情，便于后期搜索.</p></li>
<li><p>在 TODO 后添加 (姓名或邮件) 来表示分类.</p></li>
</ul>


<p>例如：</p>

<pre><code>&lt;!-- TODO(yiminghe): remove duplicate tag --&gt;
&lt;p&gt;&lt;span&gt;2&lt;/span&gt;&lt;/p&gt;
</code></pre>

<h4>焦点分离</h4>

<ul>
<li><p>将表现，行为和结构分离：不要在 html 和模板中加入除了结构以外的东西。</p></li>
<li><p>在文档中引入尽可能少的样式和脚本。</p></li>
</ul>


<h3>元素</h3>

<ul>
<li><p>img 请勿将img元素作为定位布局的工具，不要用他显示空白图片; 给img元素增加alt属性;</p></li>
<li><p>推荐使用 button 代替 input，但必须声明 type;</p></li>
<li><p>推荐使用 fieldset，legend 组织表单;</p></li>
<li><p>表单元素的 name 不能设定为 action，enctype，method，novalidate，target，submit 会导致表单提交混乱</p></li>
</ul>


<h2>CSS 编码规范</h2>

<p>每个页面必须引用淘宝通用 CSS <code>global-min.css</code> 其中包含 Rest 和 基础样式</p>

<pre><code>&lt;link rel="stylesheet" href="http://a.tbcdn.cn/p/global/1.0/global-min.css" type="text/css" media=""&gt;
</code></pre>

<h3>文件、id 和类的命名</h3>

<ul>
<li><p>一般性命名，使用小写字母，复合词以 - 分隔; 例如 <code>nav.css</code>，<code>login-nav.css</code>，<code>login-page</code>；</p></li>
<li><p>为 id 和样式类使用有意义或通用的名字，避免由于 css 命名更改引起的不必要的文档或模板改变；如，不推荐 <code>#yee-1901 {}</code>，推荐 <code>.button-green {}</code>；</p></li>
<li><p>id 和 class 的命名长度应该适中，不要太简略也不要太详细。</p></li>
</ul>


<h3>元素选择器和属性</h3>

<ul>
<li><p>性能优化原则：CSS 选择器的解析是从右往左的，所以选择器最右边尽量高效，深入可参考 <a href="http://csswizardry.com/2011/09/writing-efficient-css-selectors/">Writing efficient CSS selectors</a>；</p></li>
<li><p>使用简写属性，如使用 <code>margin: 20px 0</code> 而非 <code>margin-top: 20px; margin-bottom: 20px</code>；</p></li>
<li><p>对属性值为 0 的情况省略单位，如 <code>margin: 0</code>；</p></li>
<li><p>省略属性值中的 0 前缀，如 <code>font-size: .8em</code>；</p></li>
<li><p>为了防止冲突，善用附件前缀，如 <code>.toolbar-bd</code>，<code>.nav-bd</code>；</p></li>
<li><p>避免使用 CSS Hack，考虑使用特定浏览器前缀表示，如 <code>.ks-ie6 span {display:inline-block}</code> ，KISSY 框架会在自身加载完成后自动判断浏览器类型，并在 html 标签上加如 <code>ks-ieX</code>，<code>ks-chromeX</code> 等类似的 Class。</p></li>
</ul>


<h3>格式规范</h3>

<ul>
<li><p>属性值按字母顺序排序，如：</p>

<pre><code>  background: fuchsi;
  border: 1px solid;
  -moz-border-radius: 4px;
  -webkit-border-radius: 4px;
  border-radius: 4px;
  color: black;
  text-align: center;
  text-indent: 2em;
</code></pre></li>
<li><p>块的内容应该被缩进，如：</p>

<pre><code>  @media screen, projection ｛
    html {
      background: #fff;
      color: #444;
    }
  }
</code></pre></li>
<li><p>使用分号结束每个属性的定义，包括最后一个；</p></li>
<li><p>在属性名冒号后加一个空格；</p></li>
<li><p>多个 css 规则间以空行分隔，多个选择以及声明间以行分隔；</p></li>
<li><p>尽可能的不用引号，迫不得已时使用单引号；</p></li>
</ul>


<p>例：</p>

<pre><code>h1,
h2,
h3 {
  font-weight: normal;
  line-height: 1.2;
}

.test {
  display: block;
  background: url(http://xxx);
  height: 100px; 
}
</code></pre>

<h2>JS 代码规范</h2>

<h3>命名规范</h3>

<h4>文件和模块</h4>

<ul>
<li><p>文件名称使用小写表示，复合词用 - 分隔，例如 <code>attr.js</code>，<code>iframe-transport.js</code></p></li>
<li><p>所有的代码以模块形式组织，模块名如果写的话需要和文件路径保持一致，例如：</p>

<pre><code>  KISSY.add('ajax/iframe-transport', function () {
    ...
  });
</code></pre>

<p>  <em>实际开发中的模块可以不写模块名，打包过程会自动根据目录和文件名添加。</em></p></li>
</ul>


<h4>变量、类与方法</h4>

<ul>
<li><p>对类，命名空间使用 PascalCasing，例如 <code>MenuButton</code>，<code>Overlay</code>；</p></li>
<li><p>对常量使用大写命名，复合词使用 _ 分隔，例如 <code>MAX_COMBO_URL_LENGTH</code>;</p></li>
<li><p>对变量，非私有的成员函数，成员对象，局部变量使用 camelCasing，如：</p>

<pre><code>  var domAttribute = 'type';
  function MenuButton() {
  }
  MenuButton.prototype.alignWithEl = true;
  /**
   * @protected
   */
  MenuButton.prototype.handleClickInternal = function() {};
</code></pre>

<p>  私有成员函数以 _ 开头，推荐放入闭包中，使用 camelCasing，如：</p>

<pre><code>  KISSY.add('dom', function () {
    var DOM = {
      width: function() {
        return this._getWidth();
      },
      _getWidth: function() {
      },
      height: function() {
        return getHeight(this);
      }
    };
    function getHeight() {
    }
  });
</code></pre></li>
</ul>


<h4>css 类名</h4>

<p>类名小写，复合词间用 - 分离，组件以 ks- 作为默认前缀，形容词放在前，状态词放后，如：</p>

<pre><code>.ks-toggle-button-checked
.kss-check-tree-node-checked
</code></pre>

<h3>注释</h3>

<p>使用 <code>/** xx */</code> 注释表示需要出现在文档中的注释，除此之外不要使用 <code>/** xx */</code> 注释，
注释使用 <a href="https://github.com/senchalabs/jsduck/wiki">jsduck</a> 规范，如：</p>

<pre><code>/**
 * @class Overlay
 */
function Overlay() {}
</code></pre>

<p>用 // 表示一般性的单行注释，如：</p>

<pre><code>// get original offset
var originalOffset = node.offset();
</code></pre>

<p>用 <code>/* */</code> 表示一般性的多行注释，如：</p>

<pre><code>/*
 adjust alignment, for example:
 http://docs.kissyui.com
*/
var x = overlay.set('align', {});
</code></pre>

<h3>一般规则</h3>

<ul>
<li><p>长度：请确保每行不要超过 80 个字符，必要时进行换行；</p></li>
<li><p>函数参数长度一行超过 80 个字符，那么请每个参数独占一行，并以 2 个空格缩进，如：</p>

<pre><code> var x.y.z = veryLongLongLongLongLongLongLong(
     veryLongveryLongveryLongveryLong,
     veryLongveryLongveryLongveryLongveryLong,
     veryLongveryLongveryLongvery) {
     // ...
 };
</code></pre></li>
<li><p>连续赋值等类似代码，尽量根据等号或冒号对齐，如：</p>

<pre><code>  self.chilemei     = "mei";
  self.meichi       = "shide";
  self.chileduoshao = 1;

  var obj = {
    chilemei      : "mei",
    meichi        : "shide",
    chileduoshao  : 1
  } 
</code></pre></li>
<li><p>尽可能使用单引号，而不是双引号；</p></li>
<li><p>大括号用法，示例：</p>

<pre><code>  Draggable.ATTRS = {
    node: {
      getter: function (selector) { return S.all(selector); }
    }
  };
</code></pre></li>
<li><p>缩进规范：</p>

<ul>
<li>使用连续的 2 个空白字符表示缩进</li>
<li>不要使用 tab 来表示缩进</li>
<li><p>对整块内容进行缩进</p>

<pre><code>  switch (x) {
    case 1:
      alert(1);
      break;
    case 2:
      alert(2);
  }
</code></pre></li>
</ul>
</li>
</ul>


<h3>代码组织</h3>

<p>一个模块文件中不要包含多个公开的类，例如：</p>

<p>不要这样：</p>

<pre><code>KISSY.add('overlay', function () {
  function Overlay(){}

  function Dialog(){}
});
</code></pre>

<p>要这样分成两个模块（文件）：</p>

<p>A:</p>

<pre><code>KISSY.add('overlay', function () {
  function Overlay(){}
});
</code></pre>

<p>B:</p>

<pre><code>KISSY.add('overlay/dialog', function () {
  function Dialog(){}
});
</code></pre>

<p>组件模块请按照以下的顺序组织，在模块代码的各个部分使用字母顺序排列：</p>

<ul>
<li>模块变量声明</li>
<li>构造器</li>
<li>公用成员函数</li>
<li>保护性成员函数</li>
<li>私有成员函数</li>
<li>属性( ATTRS )</li>
<li>模块私有函数</li>
</ul>


<p>例如：</p>

<pre><code>KISSY.add(function (S, Component) {
  var DOM = S.DOM;

  /**
   * @class Button
   */
  var Button = Component.Controller.extend({

    /**
     * @public
     */
    show: function(){},

    /**
     * @protected
     */
    handleClickInternal: function(){},

    _doClick: function(){}

  },{
    ATTRS:{

      /**
       * @type String
       */
      content: {}
    }
  });

  // ------------------------- private
  function onHover() {}
}, {
  requires:['Component']
});
</code></pre>

<h2>项目规范</h2>

<h3>后台规范</h3>

<p>因为项目是商家后台应用，所以必须使用现有商家后台的模版和视觉规范。其中，后台布局主要分三个部分：首部导航，左侧边栏，主内容区。</p>

<p><img src="http://img04.taobaocdn.com/tps/i4/T1sbSmXrNiXXbPaXEL-1010-717.png" alt="后台布局" /></p>

<p>其中首部导航是固定的不需要改动，侧边栏和内容区规范请参考 <a href="./%E5%90%8E%E5%8F%B0%E6%95%B4%E4%BD%93%E5%B8%83%E5%B1%80%E8%A7%84%E8%8C%83%E5%92%8C%E7%A4%BA%E4%BE%8B.html">后台整体布局规范和示例</a> ，直接套用即可；</p>

<p>另外一些表单、按钮的样式，在开发环境中已经有一些 DPL 代码，可以视情况使用。建议开发前期建立固定的 DPL。</p>

<h3>开发语言</h3>

<h4>使用 SCSS 或 LESS 编写 CSS 样式，必选</h4>

<ul>
<li><p>SASS 和 LESS 等 CSS 预处理器对比原生 CSS 有大量的优势，在此不列举，可以参考各自的官网；注意如果选择 SASS 则必须用 SCSS 语法，以保证高可读性和对 CSS 原生语法的兼容：</p>

<p>  SASS: <a href="http://sass-lang.com/">http://sass-lang.com/</a></p>

<p>  LESS: <a href="http://www.lesscss.net/">http://www.lesscss.net/</a></p></li>
</ul>


<h4>使用 CoffeeScript 编写脚本，可选</h4>

<ul>
<li><p>『人生苦短，试试 Coffee   』，习惯之后你会迷上 ta 的</p>

<p>  CoffeeScript: <a href="http://coffeescript.org/">http://coffeescript.org/</a></p></li>
</ul>


<h4>注意，项目组所有成员必须统一所用的开发语言</h4>

<h3>开发环境</h3>

<p>前端开发环境使用 Grunt 组织和打包。开发环境和 DEMO 环境已基本完成，DEMO 中已包含后台布局。项目用 SVN 管理代码版本。</p>

<h4>开发环境 Get Started</h4>

<ol>
<li>安装 nodejs（已附带 npm ）：<a href="http://nodejs.org/">http://nodejs.org/</a></li>
<li>安装 grunt 4.x ：<code>npm install -g grunt-cli</code></li>
<li>进入项目目录，执行 <code>npm install</code> 安装依赖包（依赖包描述在 package.json）</li>
<li>完成</li>
</ol>


<h4>开发环境和 DEMO 说明</h4>

<ol>
<li><p>源码环境在 <code>./src</code> 目录，其中 <code>./src/demo</code> 是 DEMO 的 php 代码，可看情况自行修改；</p></li>
<li><p>DEMO 的访问地址为 <code>./src/demo/demo.php?page=settings</code> 其中 <code>page</code> 参数则是具体的页面；</p></li>
<li><p>DEMO 中已经有两个页面 <code>settings</code> 和 <code>messagecenter</code> 可供参考；</p></li>
<li><p>不同于其它产品（使用线上自动 combo），此项目使用 module-compiler 在本地预先打包；
 关于 kissy 的 loader 机制，可以参考:
 <a href="http://docs.kissyui.com/docs/html/demo/seed/loader/index.html">http://docs.kissyui.com/docs/html/demo/seed/loader/index.html</a></p></li>
<li><p>如果需要使用线上 combo 资源的机制，可以参考最佳实践:
 <a href="http://docs.kissyui.com/docs/html/tutorials/project-guide/index.html">http://docs.kissyui.com/docs/html/tutorials/project-guide/index.html</a></p></li>
</ol>


<h4>开发过程</h4>

<ol>
<li><p>在项目目录执行 <code>grunt watch</code> 任务，实时编译 coffee 、scss、less 等文件；</p></li>
<li><p>提交 SVN 前需要压缩和打包，执行 <code>grunt</code> 默认任务进行，打包后文件在 <code>./build</code> 目录；</p></li>
<li><p>以上任务描述在 <code>Gruntfile.coffee</code>，可视情况编辑</p></li>
</ol>


<h4>TPS 图片上传空间</h4>

<ol>
<li>开发过程中，所有图片先必须上传到 TPS ，得到的图片地址再用于编码，如 CSS 背景图引用。
 <a href="http://tps.tms.taobao.com/">http://tps.tms.taobao.com/</a></li>
</ol>


<h4>代码 Review</h4>

<p>为了方便后面项目代码的维护，所有代码在提交前都需要经过淘宝前端同学的 Review，以确保代码符合上面的规范。</p>

<h2>其它</h2>

<ol>
<li>淘宝的前端童鞋会在同一个项目室协助开发，所以有任何问题都可以咨询他们。</li>
</ol>

</body>
</html>