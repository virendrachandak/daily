<!DOCTYPE html><html><head>  <meta charset="UTF-8">  <title>Simple use of Cross-Site XMLHttpRequest (Using Access Control)</title>  <script type="text/javascript">  //<![CDATA[  var invocation = new XMLHttpRequest();  var url = 'http://aruner.net/resources/access-control-with-credentials';  var invocationHistoryText;  function callOtherDomain() {    if (invocation) {      invocation.open('GET', url, true);      invocation.withCredentials = "true";      invocation.onreadystatechange = handler;      invocation.send();    } else {      invocationHistoryText = 'Whoops -- Sorry. No Invocation TookPlace At All or Errors Took Place';      var textNode = document.createTextNode(invocationHistoryText);      var textDiv = document.getElementById('textDiv');      textDiv.appendChild(textNode);    }  }  function handler(evtXHR) {    if (invocation.readyState == 4) {      if (invocation.status == 200) {        var response = invocation.responseText;        invocationHistoryText = document.createTextNode(response);        var textDiv = document.getElementById('textDiv');        textDiv.appendChild(invocationHistoryText);      } else {        console.error('Invocation Errors Occurred  + invocation.readyState');      }    } else {      console.error('Currently the application is at ' + invocation.readyState);    }  }  //]]>  </script></head><body>  <form id="controlsToInvoke" action="">    <p>      <input type="button" value="Click to Invoke Another Site" onclick="callOtherDomain()">    </p>    <p id="intro">    This page requests a resource on another domain that typically sets a simple counter Cookie, and thus the resource is requested with Cookies using the <code>withCredentials</code> API flag on XMLHttpRequest (implemented in Firefox 3.1).    The contents returned by the other domain vary depending on the value of the simple counter Cookie that accompanies the request.    </p>    <div id="textDiv">    This XHTML document GETs another resource using cross-site XHR and sends that request with credentials.  If you get a response back, the content of that response should reflect Cookies being sent,    since the <code>XMLHttpRequest</code> invocation on this page sets the <code>withCredentials</code> flag.    </div>  </form></body></html>