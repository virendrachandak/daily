SSL握手延迟及HTTPS优化----> 本文通过实验来比较HTTPS和HTTP的性能。很多人假设HTTPS（即，运行在SSL协议上的HTTP）的延迟更高，因为SSL的握手需要更多CPU资源。但实际呢？[`TCP Handshake`——TCP握手](http://www.google.com/search?q=tcp+handshake)是一个三个包的事件。客户端发送两个包，服务器端发送一个包。最佳情况下，可以看到一次`round-trip`就建立了连接。通过经验，我们可以通过比较`ping`和`tcp`的连接事件来展示：```fping -q -c 5 www.csh.rit.edu```> `fping`如果没有的话，可以通过`brew install fping`来安装，其实它类似于`ping`命令，只是参数更加好用，适合在脚本中使用。在本机上实际的结果如下所示：![](http://gtms02.alicdn.com/tps/i2/TB1qNxRFVXXXXaVXpXXV_VqVFXX-1412-284.png)TCP连接时间通过下面的命令来测试：```seq 5 | xargs -I@ -n1 curl -so /dev/null -w "%{time_connect}\n" http://www.csh.rit.edu```结果如下：![](http://gtms03.alicdn.com/tps/i3/TB1kKhTFVXXXXXZXXXXyXg1IXXX-1878-290.png)这就是最佳情况。因为你（即客户端）在握手过程中（SYN+ACK）接受了第二个包，使用ACK回复，并且认为连接是打开的。发送HTTP请求前只有一个往返（`round trip`）。那使用`SSL`会怎样呢？再次使用`culr`：```curl -kso /dev/null -w "tcp:%{time_connect}, ssldone:%{time_appconnect}\n" https://www.csh.rit.edu```结果如下：![](http://gtms03.alicdn.com/tps/i3/TB111JSFVXXXXcRXXXXeAbi1pXX-2146-120.png)> 可以尝试下连接HTTPS版的Google：> 使用的命令：> ```> curl -kso /dev/null -w "tcp:%{time_connect}, ssldone:%{time_appconnect}\n" https://www.google.com> ```只是增加了SSL，延迟## 原文<http://www.semicomplete.com/blog/geekery/ssl-latency.html>