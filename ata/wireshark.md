### 《wireshark数据包分析实战》笔记
1.  wireshark及清华@诸葛建伟
    <ul>
    <li><a href="http://www.cis.syr.edu/~wedu/seed/">SEED Project</a>：美国纽约雪城大学提供的计算机安全实验环境与内容。</li>
    <li><a href="http://www.offensive-security.com/metasploit-unleashed/Metasploit_Unleashed_Information_Security_Training">Metasploit Unleashed</a>：非常有价值的Metasploit培训材料</li>
    <li><a href="http://www.emulab.net/">Emulab</a>：University of Utah所开发的网络实验testbed。</li>
    <li><a href="http://www.isi.deterlab.net/">DeterLab</a>：USC ISI、UCB在Emulab上开发的网络安全实验testbed。</li>
    </ul>

2.  OSI参考模型及各层典型协议（表中没表示出来的<b>物理层</b>）
    <table>
        <thead style="border-top:2p solid #000; border-bottom: 1px solid #000;">
           <tr>
               <td style="width: 100px;">层次</td>
               <td style="width: 200px;">协议</td>
           </tr>
        </thead>
        <tr>
            <td>应用层</td>
            <td>HTTP,SMTP,FTP,Telnet</td>
        </tr>
        <tr>
            <td>表示层</td>
            <td>ASCII,MPEG,JPEG,MIDI</td>
        </tr>
        <tr>
            <td>会话层</td>
            <td>NetBIOS,SAP,SDP,NWLink</td>
        </tr>
        <tr>
            <td>传输层</td>
            <td>TCP，UDP，SPX</td>
        </tr>
        <tr>
            <td>网络层</td>
            <td>IP，IPX</td>
        </tr>
        <tr>
            <td>数据链路层</td>
            <td>Ethernet，Token Ring，FDDI，AppleTalk</td>
        </tr>
    </table>
3.  网络设备
    *   集线器(转发请求到所有连接的计算机)，会产生不必要的网络流量，仅在半双工模式下运行（不能同时发送和接收数据）;工作在OSI模型的物理层（实际上就是一个转发设备）
    *   交换机（直接将信息传给目标接收者，不会广播）、将连接设备的地址存储在CAM（Content Addressable Memeory，内容寻址寄存器）中，管理型交换机还有很多高级功能，如端口启用禁用、远程配置修改、远程重启等;工作在OSI模型的数据链路层
    *   路由器工作在OSI参考模型的第三层（网络层）,负责不同网络之间数据包流向的引导，通常使用IP地址来确定和标识网络上的设备；

4.  流量分类
    *   三大类：广播、多播和单播。
    *   广播：发送到一个网段上的所有端口，包括集线器和交换机。广播流量有第2层广播流量和第3层广播流量两种主要形式。一个网段中最大的IP地址被作为广播地址使用。例如一个192.168.0.xxx的IP范围，子网掩码为255.255.255.0，其广播IP地址为192.168.0.255。
    *   广播域：广播数据包不用经过<b>路由</b>可以和其他计算机直接传输的网段范围。
    *   多播：将单一来源数据包同事传输给多个目标的通信方式。实施多播的主要方法是讲数据包接收者加入多播组再进行编码（即IP多播的工作原理）。IP协议将一整段地址都赋予了多播，例如在224.0.0.0到239.255.255.255.255 IP范围见的地址就很可能是多播流量。
    *   单播：从一台计算机直接传输到另一台计算机。单播机制具体实现与使用的协议相关。例如，一台电脑与WEB服务器之间的通信。即HTTP连接就是典型的单播流量。

5.  混杂模式(promiscuous mode)
    *   一种允许网卡能够看到所有流经网络线路数据包的驱动模式。
    *   ARP协议会广播到一个广播域内的所有计算机，用于找到对应的MAC地址。只有正确的计算机会对这样的请求进行处理。否则，如果所有的计算机都处理，将会使得网络性能变得非常糟糕。
    *   libpcap/WinPcap驱动用于将网卡切换到混杂模式。

6.  集线器连接的网络
    *   在集线器连接的网络中，所有网络数据包都会发送的集线器连接的所有机器的端口。因此，只要将嗅探器接入集线器上的任何一个空闲端口，就能分析道该集线器连接的所有电脑的网络通信。
    *   但是在集线器网络中任意时刻只能有一个设备可以通信。因此，多个设备连接时会产生冲突和碰撞，从而造成丢包和以及重新传输数据所带来的性能损失，更进一步增加了网络阻塞和碰撞。这样的恶性循环大大降低了网路性能。
7.  交互式网络中的嗅探
    *   现在网路环境常用交换机来连接。交换机为广播、单播和多播都提供了有效的数据传输方法。而且有些交换机还允许全双工通讯（即同时发送和接收数据）。因此，交换机连接网络中的修改非常复杂。将嗅探器连接到这种网络的端口中只能看到广播数据以及自己机器的数据包。
    *   目前有4种基本方法用于在交换式网络中进行网络流量捕获嗅探：
        1.  端口镜像
        2.  集线器接出（hubbing out）
        3.  使用网络分流器
        4.  ARP欺骗攻击
    <blockquote>交换式网络上的可视范围仅限于你所接入的端口</blockquote>
    ****
    1.  端口镜像
        需要交换机支持端口镜像的功能并有空闲的端口。然而，如果将多个端口的流量通过端口镜像的方式镜像到一个端口时，有可能超出一个单独端口的物理承受能力，从而造成在网络流量达到一定数量级后导致数据包丢失甚至网络变慢和网络中断。
    2.  集线器输出
        将目标设备和分析系统分段到统一网段中，然后将它们直接插入到一个集线器上。适合于在不能进行端口镜像但是仍然对目标设备接入的交换机有物理访问的时候。需要一个集线器和几根网线并按如下方法操作：
        1.  找到目标设备所连接的交换机并将目标设备连接网线从交换机上拔掉；
        2.  将目标设备的网线插入到集线器上；
        3.  使用另一根网线，将嗅探器也连接到集线器上；
        4.  将集线器通过网线连接到交换机，从而将集线器连接到网络上。
        >   需要注意的是有些“集线器”实际上是低端的“交换机”，测试方法是连上“集线器”看两台电脑不能不能监控到对方除广播以外的网络流量。
    3.  使用网络分流器
        网络分流器需要放置在两个端点之间来捕获这两个端点之间的数据包。网络分流器又分为：聚合的和非聚合的两种基本类型。区别在于，非聚合的网络分流器有**4**个端口。而聚合分流器只有**3**个端口。
        *   聚合网络分流器的使用方法：
            +   从交换机上拔下目标电脑的网线；
            +   将连接目标电脑网线的另一端插入到网络分流器的“in”端口；
            +   将另一根网线一端插入网路分流器的“out”端口，并将另一端插入到网络交换机；
            +   将另一根网线插入网络分流器的“monitor”端口，并将另一端插入到嗅探器电脑上。
        *   非聚合网络分流器（更加灵活，有两个监听端口，一个用来嗅探流出方向的网络流量，从电脑到分流器端口的方向；另一个监听端口用来嗅探流入方向的网络流量，从分流器端口到电脑的方向）。使用方法如下所示：
            +   从交换机上拔下电脑的连接网线；
            +   将电脑连接网线的另一端插入到网络分流器的“in”端口上；
            +   将另一根网线的一端插入到网络分流器的“out”端口，然后将另一端插入到网络交换机上；
            +   将第三根网线插入到网络分流器的“Monitor A”端口，并将另一端插入到嗅探器电脑的网卡接口；
            +   将最后一根网线插入到网络分流器的“Monitor B”端口，并将另一端插入到嗅探器电脑的第二块网卡接口。
        >   非聚合网络分流器需要更多的网线，而且需要两块网卡。但是非聚合网络分流器更适合只需要关注一个方向的流量的情况。
    4.  ARP欺骗
        -   ARP查询过程
            -   OSI模型中的第二层地址称为MAC地址，第三层寻址方案称为IP寻址系统。
            -   交换机工作在OSI模型的第二层，只认识MAC地址，而网络上的所有设备之间的通信使用的是第三层的IP地址。因此，网络设备必须在数据包中包含这些信息。网络上的设备通过IP地址来查询MAC地址，这样才能通过交换机将流量传输给相应的设备。
            >   ARP协议：<br>
            >   
            >   计算机之间开始通信时，发起通信的计算机会先检查自己的ARP缓存，查看它是否已经有对方IP地址对应的MAC地址。如果不存在，则向数据链路层广播地址FF:FF:FF:FF发送一个ARP广播请求包。改请求包向广播域内的所有计算机询问“某某IP地址的MAC地址是什么？”
            >   
            不匹配目标IP地址的计算机会简单地选择丢弃这个请求包，而目标计算机则会选择答复这个数据包。通过ARP应答告知它的MAC地址。此时，发起通信的计算机就获取到了数据链路层的寻址信息，从而可以利用它与远端计算机进行通信，同时将这些信息保存在ARP缓存中，来加速以后的网络访问。
        -   ARP欺骗
            -   ARP欺骗（也称为ARP缓存中毒），即通过发送包含虚假MAC地址的ARP消息，劫持其他计算机流量的过程。
            -   ARP欺骗是一种在交换式网络中进行监听的高级技术。通常由攻击者向客户端系统发送虚假地址的数据包，以截获特定的网络流量或者对目标进行拒绝服务（DoS）攻击。然而，它也可以是一种在交换式网路中捕获目标系统数据包的合法方式。
        -   Cain & Abel软件
+   wireshark捕获
    +   两种过滤器
        *   捕获过滤器
            *   捕获选项的设置，使用BPF（Berkely Packet Filter）语法设置捕获过滤器。使用BPF创建的过滤器被称为表达式。每个表达式包含一个或多个原语，每个原语包含一个或多个限定词，然后跟一个ID名字或数字。 
            `[dst(限定词) host(限定词) 192.168.0.10(ID)](原语) &&(操作符) tcp(限定词) port(限定词) 80(ID)`
                > []和()用于解释说明，实际中去掉即可  
        *   显示过滤器
+   IP地址
    *   32位地址，采用点分4组的表示形式。每个IP地址都包含网络地址和主机地址两个部分。
    *   网络地址用于标识所连接到的局域网，主机地址则标识这个网络中的设备本身。而网络地址和主机地址的划分则有网络掩码（netmask，network mask即子网掩码）决定。
    *   子网掩码长度也为32位，被设为1的每一位标识着IP地址的对应部分属于网络地址，而剩下设为0的部分则标识着主机地址。例如
    >  10.10.1.22  ->  00001010 00001010 00000001 00010110
    > 
    > 255.255.0.0 -> 11111111 11111111 00000000 000000000
    >               
       网络 10.10              主机 1.22

    > IP地址和网络掩码为了简便起见通常会被写成无类型域间选录（Classless Inter-Domain Routing，CIDR）的形式。即一个完整的IP地址后面跟一个左斜杆（/），以及一个用来表示IP地址中网络部分位数的数字。
    > 
    > 例如：IP地址10.10.1.22和子网掩码255.255.0.0用CIDR表示为10.10.1.22/16的形式。
    
+   需要了解IP、ICMP、TCP等常见协议的数据包组成格式（关键字，IP头，TCP头）
+   TTL（存活时间）
+   端口:[通用端口列表查询](http://www.iana.org/assignments/service-names-port-numbers/service-names-port-numbers.xhtml)
+   TCP连接建立需要3次握手（SYN和SCK标识，初始序列号和最大分段大小MSS）
    +   SYN包、SYN/ACK包和ACK包
+   TCP终止
    +   FIN/ACK,ACK,FIN/ACK,ACK
+   TCP重置
    +   一般情况下每个连接都会以TCP终止来正常结束。现实中连接经常会突然断掉。可能是由于潜在的攻击者正在进行端口扫描，或者仅仅是主机配置错误。在这些情况下，就需要使用设置了RST标识的TCP数据包。RST标识用于支出连接被异常终止或拒绝连接请求。
    +   查看TCP（Transfer Control Protocol）的Flags字段（RST，ACK）标识着通信的结束。      
+   用户数据包协议（User Datagram Protocol,UDP）
    +   位于OSI模型的第4层。用于提供高速的传输
    >   TCP是为了满足带有内在错误监测的可靠数据传输
    +   UDP是一种尽力服务，通常会被成为无连接协议。一个无连接协议不会正式地简历和结束主机之间的连接，也不会像TCP那样存在握手和终止过程。
    +   UDP头很简单，只包括：源端口、目标端口、数据包长度和校验和。例如DNS请求使用的是UDP协议。
+   ICMP协议（Internet Control Message Protocol）
    +   负责提供在TCP/IP网络上设备、服务以及路由器可用性的信息。大多数网络检修技巧和工具都是基于常用的ICMP消息类型。ICMP在RFC792中定义（Request for Comments）
    +   <b style="color:red">ICMP是IP的一部分并依赖IP来传递消息</b>。ICMP头包含以下几个域：
        +   类型（Type）：ICMP消息基于RFC规范的类型或分类
        +   代码（Code）：ICMP消息基于RFC规范的子类型
        +   校验和（Checksum）：用于保证ICMP头和数据在抵达目的地时的完整性
        +   可变域（Variable）：依赖于类型和代码域的部分。
        >   Type+Code决定了ICMP数据包的用途。例如Type=3表示“目标不可达”，code为3表示“端口不可达”，可以知道是通信端口的问题。
        *   浏览所有可用ICMP类型和代码，[地址](http://www.iana.org/assignments/icmp-parameters/icmp-parameters.xhtml)  
        >   分清echo和ping。ping实际上是一个工具的名字，ping工具用于发送ICMP echo请求数据包
        *   ICMP echo请求使用的随机文本可能会暴露设备的操作系统信息，攻击者也有可能在这个域中放置一些数据位作为反向连接的手段。
+   路由跟踪
    +   通过使用ICMP可以跟踪数据包的路由路径。这个时候的ICMP数据包被叫做双头包，因为ICMP数据包的结尾部分包含了原先echo请求的IP头和ICMP数据的拷贝，这个信息被证明在检修的时候特别有用。
+   DHCP头结构
    *   DHCP续租过程包含4种类型的DHCP数据包：发现（Discover）、提供（Offer）、请求（Request）和确认（Acknowledgement）。简称DORA过程。  
+   DNS查询
    +   略
+   HTTP      

### update on 20131209
#### 第五章--wireshark高级特性
1.  名字解析
    +   通过`capture->options`开启名字解析，wireshark有三种类型的名字解析
        1.  MAC地址解析（MAC name resolution），使用ARP协议将数据链路层MAC地址例如`00:09:5B:01:02:03`转换到网络层地址，例如`10.100.12.1`。如果转换尝试失败，wireshark会使用程序目录中的ethers文件尝试进行转换。Wireshark最后的手段是将MAC地址的前三个字节转换到设备的IEE指定设备制造商名称，例如`Netgear_01:02:03`。
        2.  网络名字解析（Network name resolution）试图将一个网络层地址，例如`192.168.1.50`转换到一个易读的DNS名称，例如`MarketingPC1.domain.com`。
        3.  传输名字解析（Transport name resolution）会将一个端口号转换成一个语气相关的名字，例如将端口80显示为http。

    +   名字解析存在弊端
        1.  名字解析可能会失败，尤其是当所查询的名字服务器不知道这个名字的时候。
        2.  名字解析会在打开捕获文件时重新进行一次，因为这些信息不会保存在文件里。因此，如果捕获文件保存的文件解析服务器不可用时，名字解析就会失败。
        3.  DNS名字解析会产生额外的数据包，因此，保存的捕获文件中会包含额外的DNS流量信息。
        4.  名字解析会带来额外的处理开销，并且消耗计算机的内存。
2.  协议解析
    +   wireshark的协议解析有可能出错，尤其是在一个网络上的协议使用了不同于标准的配置，例如非默认端口时。
    +   选中一个数据包，在analyze中选择decode as可以选择某个特定的解析器。

3.  查看解析器源代码
    +   <b style="color:red">note:wireshark的数据包和decode as等存在乱码问题，有可能和编码相关，暂时还未解决，and，fxxking government把wireshark的官网屏蔽了。</b>

4.  跟踪TCP流
    +   右键单击某个数据包选择`Follow TCP Stream`，这是TCP流就会在一个单独的窗口中显示出来。其中蓝色表示从目标地址到源地址的流量，而红色则用于标明从源地址到目标地址的流量。

5.  数据包长度
    +   通过`statistics->Packet Lengths`，然后单击`Create Stat`可以查看捕获流量的数据包长度统计情况。
    +   协议头的一般大小为（以太网头14字节--包含4字节CRC，IP头最小20字节，没有数据以及选项的TCP数据包也是20字节，也就是说典型的TCP控制数据包--例如TCP，ACK，RST和FIN数据包--大约是54字节）。
    +   查看数据包长度是概览捕获文件的好方法，如果存在很多较大的数据包，那么有可能是进行了数据传输。如果绝大多数数据包很小，则可以假设在这个补货中存在协议控制命令，而没有传输大规模的数据。

6.  图形展示
    +   IO图, `statistics->IO Graphs` 绘制了网络上的吞吐量，可以通过IO图找出数据吞吐的峰值，找出不同协议中的性能延时和滞后，并且可以用来比较实时数据流量情况，如每个周期内的数据包多少。
    +   双向时间图（round-trip time，即RTT），确认一个数据包已被成功接收所需的时间。也就是你的数据包抵达目的地和这个数据包抵达所发送的确认返回到你的时间纸盒。RTT分析可以用于找到通信中的慢点或瓶颈并确认是否存在延迟。查看方法为`statistics->TCP Stream Graph->Round Trip Time Graph`
    +   数据流图`statistics->flow graph`可以将连接可视化，并将一段时间内的数据流显示出来。数据流图按列的方式显示与主机之间的连接，并将流量组织到一起，便于直观解读。

7.  专家信息（目前只在TCP协议中实现）
    +   4类状态警告 
        1.  对话：关于通信的基本信息；
        2.  注意：正常通信中的异常数据包；
        3.  警告：不正常通信中的异常数据包；
        4.  错误：数据包中的错误，或者解析器解析时的错误。
#### 第六章--通用底层网络协议
1.  地址解析协议（ARP，工作在数据链路层，OSI第2层）
    +    网络通信使用了逻辑地址和物理地址。逻辑地址用于不同网络或者没有直接相连的设备之间的通信。物理地址用于单一网段中交换机直接连接的设备之间的通信。
    +   TCP/IP网络（IPv4）中用于将IP地址解析为MAC地址的过程称为地址解析协议（Address Resolution Protocol，ARP），在RFC826中定义。其解析包括一个ARP请求数据包和一个ARP响应数据包。
    +   ARP头包括以下域：
        +   硬件类型：数据链路层（OSI第二层）使用的类型数据，大部分情况下都是以太网（类型1）。
        +   协议类型：ARP请求正在使用的高层协议。
        +   硬件地址长度：正在使用的硬件地址的长度（八位组/字节）。
        +   协议地址长度：对于指定协议类型所使用的逻辑地址的长度（八位组/字节）。
        +   操作：ARP数据包的功能，1表示请求，2表示相应。
        +   发送方硬件地址
        +   目标硬件地址（ARP请求中为0）
        +   目标协议地址，目标接收方的高层协议地址
            >   通过`arp -a`命令可以查看windows系统的arp绑定

            >   `arp -av`查看的信息更详细

    +   无偿的ARP
        +   未经请求却导致客户端更新ARP缓存所以被称为“无偿”
        +   发生的情形：
            1.  IP地址改变；
            2.  某些操作系统启动时或者使用无偿ARP数据包对流入流量进行负载均衡。

2.  互联网协议
    +   OSI模型的第3层（网络层）协议主要用于是的网络间能够互联通信。MAC地址被用来在第2层处理单一网络中的通信。第3层则负责跨网络通信的地址，涉及许多协议，例如互联网协议（IP），在RFC791中定义。
    +   IP地址的表示，通过子网掩码来算网络地址和主机地址，CIDR（Classless Inter-Domain Routing，无类型域间选路）表示法。例如10.10.1.22/16
    +   IPv4头：
        +   版本号（version）
        +   首部长度（Header Length）：IP头长度
        +   服务类型（Type of Service）：优先级标志位和服务类型标志位，用于路由器进行流量的优先排序。
        +   总长度（Total Length）
        +   标识符（Indentification）唯一的标识数字，用于识别一个数据包或者被分片数据包的次数。
        +   标记（flags）：标记一个数据包是否是一组分片数据包的一部分。
        +   分片偏移（Fragment Offset）：一个数据包是一个分片，这个域中的值用于将数据包已正确的顺序重新组装。
        +   存活时间（Time to Live）：用于定义数据包的生存周期，以经过路由器的跳数/秒数来描述。
        +   协议（Protocol）：用于识别在数据包序列中上层协议数据包的类型。
        +   首部校验和（header Checksum):确认IP头没有被损坏或者篡改。
        +   源IP地址（Source IP Address）
        +   目的IP地址（Destination IP Address）
        +   选项（Options），包含源站选路和时间戳的一些保留的额外IP选项。
        +   数据（Data），使用IP传递的实际数据。
    +   存活时间
        +   TTL规定了数据包在被丢弃之前，所能经历的时间，或者能够经过的最大路由数目。TTL在数据包创建时定义，并且通常每次被发送一个路由的时候就减1。
        +   TTL是为了解决数据包在网络上的死循环问题。
    +   IP分片
        +   数据包分片是将数据流分为更小的片段，是IP用于解决跨越不同类型网络时可靠传输的一个特性。
        +   数据包分片主要基于第2层数据链路层所使用的最大传输单元（Maximum Transmission Unit，MTU）的大小，以及使用第2层协议的设备配置情况。大部分情况下的第2层使用的数据链路协议是以太网，其默认MTU是1500.也就是，以太网的网络上所能传输的最大数据包大小为1500字节（不包括14字节的以太网头本身）。
            >   尽管存在标准MTU设定，但是一个设备的MTU通常可以手工设定。MTU基于接口来设定，可以在windows或者linux系统上，或者路由器的管理界面上修改。
        +   设备传输IP数据包时将会比较数据包的大小和传送网络接口的MTU，如果数据包大小大于接口的MTU，将会把数据包分片。数据包分片步骤如下：
            1.  设备将数据分为若干个可成功进行传输的数据包；
            2.  每个IP头的总长度域会被设置为每个分片的片段长度；
            3.  更多分片标识将会在数据流的所有数据包中设置为1，除了最后一个数据包；
            4.  IP头中分片部分的分片偏移将会被设置；
            5.  数据包被发送出去。
            >   通过更多分片（例如：More fragments：set）和分片偏移域（Fragment offset: 0或者大于0的整数，0表示是一系列分片包中的第1个），可以断定数据包时分片数据包的一部分。标志位域（Identification）值相同的分片数据包是同一系列的数据包。
3.  传输控制协议（Transmission Control Protocol,TCP）
    +   工作在OSI模型的第4层--传输层，用于为数据提供可靠的端到端传输。在RFC93中定义。它能够处理数据的顺序和错误恢复，并且保证数据能够最终达到应到达的地方。许多普通的应用层协议都依赖于TCP和IP协议将数据包传输到最终目的地。
    +   TCP头
        1.  源端口（Source Port）；
        2.  目的端口（Destination Port）；
        3.  序号（Sequence Number）用于表示一个TCP片段，这个域用于保证数据流中的部分没有缺失；
        4.  确认号（Acknowledgment Number）：表示通信中希望从另一个设备得到的下一个数据包的序号；
        5.  标记（flags)：URG，ACK，PSH，RST，SYN和FIN标记，用于表示传输的TCP数据包类型；
        6.  窗口大小（window size）:TCP接收者缓冲的字节大小；
        7.  校验和（checksum)：保证TCP头和数据内容在抵达目的地时的完整性；
        8.  紧急指针（urgent pointer）：如果设置了URG位，本域将被检查作为额外的指针，告诉CPU从数据包的哪里开始读取数据；
        9.  选项（Options）：各种可选项，可在TCP数据包中指定。
    +   TCP端口
        +   TCP端口有65535个端口可使用，其中
            1.  1~1023是标准端口组（0为预留端口），特定服务会使用这些端口；
            2.  1024~65535是临时端口组（操作系统不同而不同）。
        +   wireshark会维护一个端口列表（在程序目录的services文件中，这个文件根据IANA的通过端口列表便携，IANA=Internet Assigned Numbers Authority，互联网数字分配机构），可以通过`edit->preferences->name resolution`来关闭传输名字解析，已避免一些端口标签让人迷惑的情况。
            >   windows下可以通过`tracert x.x.x.x`来查看路由跟踪情况，其中`x.x.x.x`是一个IP地址。
            
            >   ICMP有许多功能，可以应用于更多场景。
            >   
            >   IP，TCP，UDP和ICMP是所有网络通信的基础，非常重要。

#### 第七张--常见高层网络协议
>   主要涉及DHCP、DNS和HTTP

1.  DHCP，动态主机配置协议
    +   手工分配->BOOTP协议（Bootstrap Protocol）->DHCP（Dynamic Host Configuration Protocol）；
    +   DHCP是应用层协议
        >   OSI的七层模型分别为：物理层、数据链路层(ARP)、网络层(IP、ICMP)、传输层（TCP，UDP）、会话层、表示层和应用层( HTTP，HTTPS，FTP，TELNET，SSH，SMTP，POP3，DHCP，DNS)，更多OSI信息，参考[wikipedia链接](http://en.wikipedia.org/wiki/OSI_model)
2.  