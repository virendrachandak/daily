<!DOCTYPE html><html><head>  <meta charset="UTF-8">  <title>hello world--kissy 1.4</title>  <script src="http://g.tbcdn.cn/kissy/k/1.4.4/seed.js"></script></head><body>  <button class="continue">continue</button>  <button id="click-me">click me</button>  <div id="banner-msg" style="display: none; background: #eee; padding-left: 10px; border: 1px solid #333; color: #FF5400; font-size: 1.12345em; font-weight: bold;">This is a message.</div>  <script>KISSY.ready(function(S) {  console.log('hello world');});  KISSY.use('io, node', function(S, IO, Node) {  Node.one('button.continue').html('hello kissy');  Node.one('#click-me').on('click', function(e) {    Node.one('#banner-msg').show();  });  new IO({    url: 'http://api.pnd.gs/v1/sources/dribbble/popular/?page=1',    dataType: 'jsonp',    success: function(data) {      console.log(data);    },    error: function(err) {      console.error(err);    }  });  new IO({        dataType:'jsonp',        url:"http://api.flickr.com/services/rest/",         data:{            'method': 'flickr.favorites.getPublicList',            'api_key': '5d93c2e473e39e9307e86d4a01381266',            'user_id': '26211501@N07',            'per_page': 10,            'format': 'json'        },        jsonp:"jsoncallback",            success:function (data) {          console.log(data);        },        error: function(err) {          console.error(err);        }      });});var S = KISSY,/** *@description: augment */Shoutable = {    shout: function() { alert('I am ' + this.name + '.'); }};function Dog(name) { this.name = 'Dog ' + name; }function Pig(name) { this.name = 'Pig ' + name; }S.augment(Dog, Shoutable);S.augment(Pig, Shoutable);new Dog('Jack').shout(); // => I am Dog Jack.new Pig('Mary').shout(); // => I am Pig Mary./** *@description: demo of available */// change running time contextvar x = 9;var module = {    x: 81,    getX: function() { return this.x; }};module.getX(); // 81var getX = module.getX;getX(); // 9, 这里，this 指向全局Global对象// 创建一个新函数，函数的上下文this绑定至modulevar boundGetX = KISSY.bind(getX,module);boundGetX(); // 81// curryingfunction list() {    return Array.prototype.slice.call(arguments);}var list1 = list(1, 2, 3); // [1, 2, 3]// 使用当前参数创建一个新函数var leadingZeroList = KISSY.bind(list,undefined, 37);var list2 = leadingZeroList(); // [37]var list3 = leadingZeroList(1, 2, 3); // [37, 1, 2, 3]var S = KISSY;var a={x:{y:{z:1}}}var b=S.clone(a); // => b={x:y:{z:1}} , b!==avar c=S.clone(a,function(v,k){if(k=="z") return false;}) // => c={x:{y:{}}}var arr = [1,2,3,4,5];var obj = {  'hi'  : 'kissy',  'bye' : 'world'};var sum = 0;S.each(arr, function(item) {  sum += item;});S.log(sum);   // => 15S.each(obj, function(v, k) {  S.log(v, k);});S.escapeHTML('<a>X</a>');   // => "&lt;a&gt;X&lt;&#x2F;a&gt;"// extendfunction Bird(name) { this.name = name; }Bird.prototype.fly = function() {  console.log(this.name + ' is flying now!');};function Chicken(name) {  Chicken.superclass.constructor.call(this, name);}S.extend(Chicken, Bird, {  fly: function() {    Chicken.superclass.fly.call(this);    console.log("It's my turn.");  }});new Chicken('kissy').fly()var arr2 = [1,2,3,4,5];var ret = S.filter(arr, function(item) {  return item % 2 === 0;});S.log(ret);S.fromUnicode("\\u627F\\u7389") // => "承玉"for(var i=0;i<5;i++){    console.log(S.guid('pre'));     // => 输出 prex,pre(x+1),pre(x+2),pre(x+3),pre(x+4)    // x 表示一个不确定的数字 ,(x+1) 表示对该数字运算得到的表达式    // 例如可能的结果：pre10,pre11,pre12,pre13,pre14                      }// isPlainObject()S.isPlainObject({}); // => trueS.isPlainObject(new Date()); // => falseS.isPlainObject(document.body); // => false/*isWindow: function(o) {    return S.type(o) === 'object'        && 'setInterval' in o        && 'document' in o        && o.document.nodeType == 9;}*/// keys()var o= { x:1, y:2 };S.keys(o); // => ["x","y"]// makeArrayS.makeArray('str'); // => ['str']S.makeArray(S.query('.div')); // => 由所有 div 元素组成的数组S.makeArray(null); // => []// map()function makePseudoPlural(single) {    return single.replace(/o/g, "e");}var singles = ["foot", "goose", "moose"];var plurals = S.map(singles, makePseudoPlural);  // => ["feet", "geese", "meese"]var a = S.map("Hello World",function(x) {    return x.charCodeAt(0);}); // => [72, 101, 108, 108, 111, 32, 87, 111, 114, 108, 100]// merge()var a = { a: 'a' },var b = { b: 'b' },var c = { b: 'b2', c: 'c' };var o = S.merge(a, b, c);S.log(o.a); // => 'a'S.log(o.b); // => 'b2'S.log(o.c); // => 'c'// mix()var r = { a: 'a', b: 'b' };S.mix(r, { c: 'c' });S.log(r.c); // => 'c'S.mix(r, { a: 'a2' }, false);S.log(r.a); // => 'a'S.mix(r, { e: 'e', f: 'f' }, true, ['f']);S.log(r.e); // => undefinedS.log(r.f); // => 'f'// NOTE:mix receiver 会被改变，如果想要保留原始的 receiver ，可以使用 KISSY.merge()var object1 = {  apple: 0,  banana: {weight: 52, price: 100},  cherry: 97};var object2 = {  banana: {price: 200},  durian: 100};/* merge object2 into object1, recursively */S.mix(object1,object2,undefined,undefined,true);S.log(object1); // => { apple: 0, banana: { weight: 52, price: 200 }, cherry: 97, durian: 100 }var defaults = { validate: false, limit: 5, name: "foo" };var options = { validate: true, name: "bar" };/* merge defaults and options, without modifying defaults */var settings = S.merge(defaults, options);S.log(settings); // => { validate: true, limit: 5, name: bar }// namespace()S.namespace('app', 'test'); // 创建 KISSY.app 和 KISSY.test 对象S.namespace('app.Shop'); // 创建 KISSY.app.Shop 对象S.namespace("TC.mods",true); //创建 window.TC.mods 对象// param()S.param({ foo: 1, bar: 2 }); // => foo=1&bar=2S.param({ foo: 1, bar: [2, 3] }); // => foo=1&bar%5B%5D=2&bar%5B%5D=3S.param({ foo: 1, bar: [2, 3] },'&','=',false); // => foo=1&bar=2&bar=3S.param({ foo: '', bar: 2 }); // => foo=&bar=2S.param({ foo: undefined, bar: 2 }); // => foo&bar=2// substitute()var str = '{name} is {prop_1} and {prop_2}.';var obj = {name: 'Jack Bauer', prop_1: 'our lord', prop_2: 'savior'};S.substitute(str, obj); // => 'Jack Bauer is our lord and savior.'//throttle 和 buffer 的区别在于, 前者表示间隔内的函数触发被忽略, 后者表示间隔内的触发被放到下个间隔触发// unparam()//参数值如果是 gbk 编码的, 则不会解码出对应的真实值. (用的原生 decodeURIComponent, 请修改参数值为 utf-8 编码).S.unparam('foo=1&bar=2'); // => { foo: 1, bar: 2 }S.unparam('foo=%81%47'); // gbk 编码 => { foo: "%81%47" } 而不是 {foo: "丢"}S.unparam('foo=1&bar=2&bar=3'); // => { foo: 1, bar: [2, 3] }S.unparam('foo=1&bar%5B%5D=2&bar%5B%5D=3'); // => { foo: 1, bar: [2, 3] }  </script></body></html>